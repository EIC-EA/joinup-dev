joinup_licence.overview:
  path: 'licence'
  defaults:
    _controller: '\Drupal\joinup_licence\Controller\LicenceOverviewController::overview'
    _title: 'Licences'
  requirements:
    _permission: 'view licence overview page'

# We have dissallowed all access to rdf_entity.add so we are creating a new
# route to allow a licence to be created outside the scope of a group.
joinup_licence.add:
  path: 'licence/add'
  defaults:
    _controller: '\Drupal\rdf_entity\Controller\RdfController::add'
    rdf_type: 'licence'
  requirements:
    _entity_create_access: 'rdf_entity:licence'

joinup_licence.comparer.spdx_ids:
  path: '/licence/compare/{spdx_ids}'
  defaults:
    _controller: 'Drupal\joinup_licence\Controller\LicenceComparerController::compare'
  requirements:
    # Permissive regex to allow slashes in {spdx_ids}. See
    # https://symfony.com/doc/current/routing.html#slash-characters-in-route-parameters
    spdx_ids: .+
    _access: 'TRUE'

joinup_licence.comparer:
  path: '/licence/compare'
  defaults:
    _controller: 'Drupal\joinup_licence\Controller\LicenceComparerController::compare'
    _title: 'Joinup Licensing Assistant (JLA)'
  requirements:
    _access: 'TRUE'
